–§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PDA:


üß© create_pda(...)

    –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π PDA, –µ—Å–ª–∏ –æ–Ω –µ—â—ë –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

    –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –∫–æ–ª–ª–∏–∑–∏–∏.

    –ë–µ–∑ –∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö.

üß© write_to_pda(...)

    –ü—Ä–æ—Å—Ç–æ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –±–∞–π—Ç—ã –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π PDA.

    –ë–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è.

üß© create_and_write_pda(...)

    –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è.

    –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ PDA ‚Äî –µ—Å–ª–∏ –Ω–µ—Ç, —Å–æ–∑–¥–∞—ë—Ç.

    –ó–∞—Ç–µ–º –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ.

    –û—á–µ–Ω—å —É–¥–æ–±–Ω–∞ –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–¥–Ω–æ–≥–æ PDA –≤ –æ–¥–∏–Ω –≤—ã–∑–æ–≤.

üß© safe_read_pda(...)

    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç Vec<u8> —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º PDA.

    –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–∞–Ω–∏–∫—É–µ—Ç: –µ—Å–ª–∏ PDA –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –ø—É—Å—Ç–æ–π ‚Äî –ø—Ä–æ—Å—Ç–æ –æ—Ç–¥–∞—ë—Ç Vec::new().

    –ó–∞—â–∏—Ç–∞ –æ—Ç –¥–≤–æ–π–Ω–æ–≥–æ borrow'–∞ (—á–µ—Ä–µ–∑ try_borrow_data()).

    –û—Ç–ª–∏—á–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Å—á–∏—Ç—ã–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

üí° –î–∞, —Å —ç—Ç–∏–º —Ç—ã –º–æ–∂–µ—à—å:
–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å	–§—É–Ω–∫—Ü–∏—è
üì¶ –°–æ–∑–¥–∞—Ç—å PDA	create_pda
üíæ –ó–∞–ø–∏—Å–∞—Ç—å –≤ PDA	write_to_pda
‚ö° –°–æ–∑–¥–∞—Ç—å –∏ –∑–∞–ø–∏—Å–∞—Ç—å	create_and_write_pda
üìñ –ë–µ–∑–æ–ø–∞—Å–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å	safe_read_pda


üîß create_pda(...)

üîπ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:
–°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π PDA-–∞–∫–∫–∞—É–Ω—Ç, –µ—Å–ª–∏ –æ–Ω –µ—â—ë –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

üì• –ê—Ä–≥—É–º–µ–Ω—Ç—ã:

    pda_account: &AccountInfo ‚Äî –∞–∫–∫–∞—É–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—Ç–∏–º —Å–æ–∑–¥–∞—Ç—å

    signer: &AccountInfo ‚Äî –∞–∫–∫–∞—É–Ω—Ç –ø–ª–∞—Ç–µ–ª—å—â–∏–∫–∞ (–æ–±—ã—á–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)

    system_program: &AccountInfo ‚Äî —Å–∏—Å—Ç–µ–º–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞

    program_id: &Pubkey ‚Äî –∞–¥—Ä–µ—Å —Ç–µ–∫—É—â–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã

    seeds: &[&[u8]] ‚Äî –º–∞—Å—Å–∏–≤ —Å–∏–¥–æ–≤, –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å–æ–∑–¥–∞–≤–∞–ª—Å—è PDA

    space: u64 ‚Äî —Å–∫–æ–ª—å–∫–æ –±–∞–π—Ç –≤—ã–¥–µ–ª–∏—Ç—å –ø–æ–¥ –¥–∞–Ω–Ω—ã–µ

üì§ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

    Result<()> ‚Äî Ok –µ—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ, Err –µ—Å–ª–∏ PDA —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –ø—Ä–∏ –æ—à–∏–±–∫–µ —Å–æ–∑–¥–∞–Ω–∏—è

üß† –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

    –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ PDA –µ—â—ë –Ω–µ —Å–æ–∑–¥–∞–Ω (—á–µ—Ä–µ–∑ pda_account.owner == Pubkey::default())

    –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç ErrCode::PdaAlreadyExists, –µ—Å–ª–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

üîß write_to_pda(...)

üîπ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:
–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π PDA.

üì• –ê—Ä–≥—É–º–µ–Ω—Ç—ã:

    pda_account: &AccountInfo ‚Äî –∞–∫–∫–∞—É–Ω—Ç, –≤ –∫–æ—Ç–æ—Ä—ã–π –ø–∏—à–µ–º

    data: &[u8] ‚Äî –º–∞—Å—Å–∏–≤ –±–∞–π—Ç, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å

üì§ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

    Result<()> ‚Äî Ok –ø—Ä–∏ —É—Å–ø–µ—Ö–µ, Err –µ—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º

üß† –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

    ‚ö†Ô∏è –¢–æ–ª—å–∫–æ –ø–∏—à–µ—Ç, –Ω–µ —Å–æ–∑–¥–∞—ë—Ç PDA

    –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ –Ω–∞—á–∞–ª–æ data-—Å–µ–∫—Ü–∏–∏ –∞–∫–∫–∞—É–Ω—Ç–∞

üîß create_and_write_pda(...)

üîπ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:
–ï—Å–ª–∏ PDA –µ—â—ë –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Äî —Å–æ–∑–¥–∞—ë—Ç, –∑–∞—Ç–µ–º —Å—Ä–∞–∑—É –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ.

üì• –ê—Ä–≥—É–º–µ–Ω—Ç—ã:

    pda_account: &AccountInfo ‚Äî –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/–∑–∞–ø–∏—Å–∏

    signer: &AccountInfo ‚Äî –∫—Ç–æ –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ

    system_program: &AccountInfo ‚Äî —Å–∏—Å—Ç–µ–º–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞

    program_id: &Pubkey ‚Äî –∞–¥—Ä–µ—Å —Ç–µ–∫—É—â–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã

    seeds: &[&[u8]] ‚Äî —Å–∏–¥—ã PDA

    data: Vec<u8> ‚Äî –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–ø–∏—Å–∏

    space: u64 ‚Äî —Å–∫–æ–ª—å–∫–æ –±–∞–π—Ç –≤—ã–¥–µ–ª–∏—Ç—å (–ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏)

üì§ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

    Result<()> ‚Äî Ok –ø—Ä–∏ —É—Å–ø–µ—Ö–µ, Err –ø—Ä–∏ –æ—à–∏–±–∫–µ —Å–æ–∑–¥–∞–Ω–∏—è –∏–ª–∏ –∑–∞–ø–∏—Å–∏

üß† –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

    –ë–µ–∑–æ–ø–∞—Å–Ω–æ —Å–æ–∑–¥–∞—ë—Ç –∏ –ø–∏—à–µ—Ç –∑–∞ –æ–¥–∏–Ω –≤—ã–∑–æ–≤

    –ù–µ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É, –µ—Å–ª–∏ PDA —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Äî –ø—Ä–æ—Å—Ç–æ –ø–∏—à–µ—Ç

üîß safe_read_pda(...)

üîπ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:
–ë–µ–∑–æ–ø–∞—Å–Ω–æ —Å—á–∏—Ç—ã–≤–∞–µ—Ç –±–∞–π—Ç—ã –∏–∑ PDA. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–∞–Ω–∏–∫—É–µ—Ç.

üì• –ê—Ä–≥—É–º–µ–Ω—Ç—ã:

    pda_account: &AccountInfo ‚Äî –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è —á—Ç–µ–Ω–∏—è

üì§ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

    Vec<u8> ‚Äî –º–∞—Å—Å–∏–≤ –±–∞–π—Ç —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º PDA
    ‚Üí –ï—Å–ª–∏ –∞–∫–∫–∞—É–Ω—Ç –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –∏–ª–∏ –ø—É—Å—Ç–æ–π, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Vec::new()

üß† –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

    –ù–µ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ ‚Äî —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä—É–µ—Ç

    –ü–æ–ª–Ω–æ—Å—Ç—å—é –±–µ–∑–æ–ø–∞—Å–Ω–æ: –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —á—Ç–µ–Ω–∏—è read-only PDA –≤ –ª—é–±–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏